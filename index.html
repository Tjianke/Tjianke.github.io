<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="It&apos;s my personal blog.">
<meta property="og:type" content="website">
<meta property="og:title" content="My personal website">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="My personal website">
<meta property="og:description" content="It&apos;s my personal blog.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My personal website">
<meta name="twitter:description" content="It&apos;s my personal blog.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>My personal website</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">My personal website</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/12/Crawler/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/12/Crawler/" itemprop="url">Crawler</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-12T16:21:16+08:00">
                2018-12-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.Python open<br>rU 或 Ua 以读方式打开, 同时提供通用换行符支持 (PEP 278)<br>w     以写方式打开，<br>a     以追加模式打开 (从 EOF 开始, 必要时创建新文件)<br>r+     以读写模式打开<br>w+     以读写模式打开 (参见 w )<br>a+     以读写模式打开 (参见 a )<br>rb     以二进制读模式打开<br>wb     以二进制写模式打开 (参见 w )<br>ab     以二进制追加模式打开 (参见 a )<br>rb+    以二进制读写模式打开 (参见 r+ )<br>wb+    以二进制读写模式打开 (参见 w+ )<br>ab+    以二进制读写模式打开 (参见 a+ )</p>
<p>2.python directory supports backslash only</p>
<ol start="3">
<li>Thread, lock, first lock <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myThread</span> <span class="params">(threading.Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, threadID, name, counter)</span>:</span></span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line">        self.threadID = threadID</span><br><span class="line">        self.name = name</span><br><span class="line">        self.counter = counter</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"Starting "</span> + self.name)</span><br><span class="line">       <span class="comment"># 获得锁，成功获得锁定后返回True</span></span><br><span class="line">       <span class="comment"># 可选的timeout参数不填时将一直阻塞直到获得锁定</span></span><br><span class="line">       <span class="comment"># 否则超时后将返回False</span></span><br><span class="line">        threadLock.acquire() <span class="comment"># acquire lock  </span></span><br><span class="line">        print_time(self.name, self.counter, self.counter+<span class="number">4</span>)</span><br><span class="line">        <span class="comment"># 释放锁</span></span><br><span class="line">        threadLock.release() <span class="comment"># release lock</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_time</span><span class="params">(threadName, delay, counter)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> counter:</span><br><span class="line">        time.sleep(delay)</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"%s: %s"</span> % (threadName, time.ctime(time.time())))</span><br><span class="line">        counter -= <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">threadLock = threading.Lock()</span><br><span class="line">threads = []</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 创建新线程</span></span><br><span class="line">thread1 = myThread(<span class="number">1</span>, <span class="string">"Thread-1"</span>, <span class="number">1</span>)</span><br><span class="line">thread2 = myThread(<span class="number">2</span>, <span class="string">"Thread-2"</span>, <span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 开启新线程</span></span><br><span class="line">thread1.start()</span><br><span class="line">thread2.start()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 添加线程到线程列表</span></span><br><span class="line">threads.append(thread1)</span><br><span class="line">threads.append(thread2)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 等待所有线程完成</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">    t.join() <span class="comment"># wait until finishes</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Exiting Main Thread"</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>4.urlopen() return a binary file </p>
<p>In python, binary form : b’content’ needs to be decoded first</p>
<h1 id="Distributed"><a href="#Distributed" class="headerlink" title="Distributed"></a>Distributed</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/06/Leetcode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/06/Leetcode/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-06T21:03:52+08:00">
                2018-12-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Leetcode-Conquest"><a href="#Leetcode-Conquest" class="headerlink" title="Leetcode Conquest"></a>Leetcode Conquest</h1><p>This post mainly hosts all my code problems solved on Leetcode.</p>
<h2 id="Question-0-100"><a href="#Question-0-100" class="headerlink" title="Question 0-100"></a>Question 0-100</h2><h3 id="Q105-Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal"><a href="#Q105-Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal" class="headerlink" title="Q105 Construct Binary Tree from Preorder and Inorder Traversal"></a><strong>Q105 Construct Binary Tree from Preorder and Inorder Traversal</strong></h3><p>Description: Given preorder and inorder traversal of  a tree, try to construct the binary tree.</p>
<p>It might seem intimatidating at the first hand, but we can soon figure out following invariants:</p>
<ul>
<li>For inorder traversal, given certain elment, elements to its left are to its leftside. Same for right side.</li>
<li>For preorder traversal, root and root.left(if exist) are always contiguous.</li>
</ul>
<p>Exploiting previous invariants, we can define any mini trees(root and its subs) easily.</p>
<p>Process goes in this way:</p>
<p>1.Select root and split entire array into two parts(Left and Right)</p>
<p>2.Find root.lefe right after root in preorder array</p>
<p>3.Utilizing invariants, root.right is located by offseting root X (X = num of left side elements + 1) units.</p>
<p>4.Recursively repeat previous steps.</p>
<p>We can utilize the algo by introducing HashMap to store key-value of input array.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] preOrder;</span><br><span class="line">    <span class="keyword">int</span>[] inOrder;</span><br><span class="line">    HashMap map;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.preOrder = preorder;</span><br><span class="line">        <span class="keyword">this</span>.inOrder = inorder;</span><br><span class="line">        HashMap&lt;Integer,Integer&gt; map2 = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;=preorder.length-<span class="number">1</span>; i++)&#123;</span><br><span class="line">            map2.put(inorder[i],i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.map = map2;</span><br><span class="line">        <span class="keyword">if</span>(preorder.length == <span class="number">0</span> || inorder.length==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode root2 = <span class="keyword">new</span> TreeNode(preorder[<span class="number">0</span>]);</span><br><span class="line">        finder(root2,<span class="number">0</span>,<span class="number">0</span>,preorder.length-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> root2;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//find the treeNode</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">finder</span><span class="params">(TreeNode root, <span class="keyword">int</span> pos, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;<span class="comment">//pos : root index in preOrder</span></span><br><span class="line">        <span class="keyword">if</span>(begin&gt;=end) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> rootInOrder = (<span class="keyword">int</span>)(map.get(root.val));<span class="comment">//seperate InOrder list</span></span><br><span class="line">        <span class="keyword">if</span>(rootInOrder-<span class="number">1</span> &gt;= begin)&#123;</span><br><span class="line">            root.left = <span class="keyword">new</span> TreeNode(preOrder[pos+<span class="number">1</span>]);<span class="comment">// restrict pos+1&lt;=    </span></span><br><span class="line">            finder(root.left,pos+<span class="number">1</span>, begin, rootInOrder-<span class="number">1</span>);</span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//if(rootInOrder &gt;= end) root.right = null;</span></span><br><span class="line">        <span class="keyword">if</span>(rootInOrder+<span class="number">1</span> &lt;= end)&#123;</span><br><span class="line">            <span class="keyword">int</span> rightIndex = pos+rootInOrder-begin+<span class="number">1</span>;</span><br><span class="line">            root.right = <span class="keyword">new</span> TreeNode(preOrder[rightIndex]);</span><br><span class="line">            finder(root.right,rightIndex, rootInOrder+<span class="number">1</span>, end);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Parts to improve:</p>
<p>1.HashTable, HashMap and HashSet : put and get method</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">map.put(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">map.get(<span class="number">1</span>); <span class="comment">// returns an object</span></span><br></pre></td></tr></table></figure>
<p>2.Time complexity, review of master method :</p>
<p>check with this proof <a href="http://www.cs.cornell.edu/courses/cs3110/2012fa/recitations/mm-proof.pdf" target="_blank" rel="noopener">link</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/Java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/Java/" itemprop="url">Java</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T23:24:34+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/Backend/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/Backend/" itemprop="url">Backend</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T23:18:48+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Backend sum up(NodeJS + Express + API + Database + RESTful)</p>
<p>MEAN VS LAMP</p>
<h3 id="NodeJS"><a href="#NodeJS" class="headerlink" title="NodeJS"></a>NodeJS</h3><h3 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h3><p>1.npm –init helps you set up your package.json file, which contains dependencies for ur app<br>2.npm <package> –save to add this package inside package.json</package></p>
<h3 id="Express-Routing-Assignment"><a href="#Express-Routing-Assignment" class="headerlink" title="Express Routing Assignment"></a>Express Routing Assignment</h3><ol>
<li>Create a brand new Express app from scratch</li>
<li>Create a package.json using <code>npm init</code> and add express as a dependency</li>
<li>In your main app.js file, add 3 different routes:</li>
</ol>
<h1 id="Visiting-“-“-should-print-“Hi-there-welcome-to-my-assignment-”"><a href="#Visiting-“-“-should-print-“Hi-there-welcome-to-my-assignment-”" class="headerlink" title="Visiting “/“ should print “Hi there, welcome to my assignment!”"></a>Visiting “/“ should print “Hi there, welcome to my assignment!”</h1><p>Visiting “/speak/pig” should print “The pig says ‘Oink’”<br>Visiting “/speak/cow” should print “The cow says ‘Moo’”</p>
<h1 id="Visiting-“-speak-dog”-should-print-“The-dog-says-‘Woof-Woof-’”"><a href="#Visiting-“-speak-dog”-should-print-“The-dog-says-‘Woof-Woof-’”" class="headerlink" title="Visiting “/speak/dog” should print “The dog says ‘Woof Woof!’”"></a>Visiting “/speak/dog” should print “The dog says ‘Woof Woof!’”</h1><p>Visiting “/repeat/hello/3” should print “hello hello hello”<br>Visiting “/repeat/hello/5” should print “hello hello hello hello hello”<br>Visiting “/repeat/blah/2”  should print “blah blah”</p>
<p>If a user visits any other route, print:<br>“Sorry, page not found…What are you doing with your life?”</p>
<p>through this process, we can sum that a basic server need to handle request and response.</p>
<p>Unexpected token : wrong one</p>
<p>Some takeway:<br>1.req.params</p>
<p>EJS usage :<br>1.footer/header partials embedding<br>2.Applying js inside an html file<br>3.Transmitting through diffirent files</p>
<p>Post request</p>
<h3 id="Basic-Mongo-command"><a href="#Basic-Mongo-command" class="headerlink" title="Basic Mongo command:"></a>Basic Mongo command:</h3><p>To start a database:<br>1../mongod<br>2.open up anothre terminal and mongod</p>
<p>DB demo for dog_app:<br>db.dogs.insert({name:”Rusty”,breed:”Mud”}) //db refers to current database using</p>
<p>show collections</p>
<p>db.dogs.find()</p>
<p>db.dogs.find({name:”Rusty”})</p>
<p>CRUD : create Read Update Destroy</p>
<p>db.dogs.update({name:”Lucy”},{breed:”Labradoodle”}) // overwrite all other data</p>
<p>db.dogs.update({name:”Lucy”},{$set:{breed:”Labradoodle”}})</p>
<p>db.dogs.remove({breed:”Labradoodle”})</p>
<p>db.dogs.remove({breed:”Labradoodle”}).limit(num of operation)</p>
<p>db.collection.drop()</p>
<p>RESTful routes</p>
<h1 id="name-URL-Type-Desc"><a href="#name-URL-Type-Desc" class="headerlink" title="name     URL              Type           Desc"></a>name     URL              Type           Desc</h1><p>INDEX    /dogs            GET            Display List<br>NEW      /dogs/new        GET            Display form to submit data<br>CREATE   /dogs            POST           Add data to DB</p>
<p>SHOW     /dogs/:id        GET            Shows info about one dog<br>EDIT     /dogs/:id/edit   GET            Sum NEW CREATE SHOW<br>UPDATE   /dogs/:id        PUT            Update info about dog</p>
<p>DESTROY  </p>
<p>RESTful routing</p>
<ul>
<li>Define REST and explain why it matters</li>
<li>List all 7 RESTful route</li>
<li>Several practice</li>
<li></li>
</ul>
<p>RESTful mapping between HTTP routes and CRUD</p>
<p>Specificity : </p>
<p>The following list of selector types increases by specificity:</p>
<p>1.Type selectors (e.g., h1) and pseudo-elements (e.g., ::before).<br>2.Class selectors (e.g., .example), attributes selectors (e.g., [type=”radio”]) and pseudo-classes (e.g., :hover).<br>3.ID selectors (e.g., #example).</p>
<p>input.value: for pre-filling</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/15123 System programming in C & Unix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/15123 System programming in C & Unix/" itemprop="url">15123 System programming in C & Unix</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T23:05:17+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Header Notation:<br>1.Chapter<br>2.In-chapter knowledge</p>
<h1 id="Lecture-1-Intro"><a href="#Lecture-1-Intro" class="headerlink" title="Lecture 1 Intro"></a>Lecture 1 Intro</h1><p>(Passed)</p>
<h1 id="Lecture-2-Data-types-and-representations"><a href="#Lecture-2-Data-types-and-representations" class="headerlink" title="Lecture 2 Data types and representations"></a>Lecture 2 Data types and representations</h1><p>covered in 15213</p>
<h1 id="Lecture-3-Functions-Arrays-and-Strings"><a href="#Lecture-3-Functions-Arrays-and-Strings" class="headerlink" title="Lecture 3 Functions, Arrays and Strings"></a>Lecture 3 Functions, Arrays and Strings</h1><ul>
<li>Functions, input arguments, return values</li>
<li>Array fundamentals</li>
<li>String as char*’s</li>
<li>Command line arguments<h2 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h2></li>
</ul>
<p>1.Formatting statement “10.2f” means 10 spot in total and 2 decimal spot</p>
<p>2.Address is 32 bit</p>
<p>3.C I/O open mode : “w”,”r”,”a(appebd)”,”b”</p>
<p>4.fscanf,fprintf,fopen</p>
<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> name[<span class="number">4</span>]; <span class="comment">//name serves as address in printf</span></span><br></pre></td></tr></table></figure>
<p>1.Unlike java, in C strings are made of char array and must end with /0;</p>
<h1 id="Lecture-4-Intro-to-pointer"><a href="#Lecture-4-Intro-to-pointer" class="headerlink" title="Lecture 4 Intro to pointer"></a>Lecture 4 Intro to pointer</h1><p>1.Defining : int <em> ptr, </em> could be anywhere</p>
<p>2.Dereferencing : assign an adress to pointer</p>
<p>3.Memory allocation in C:</p>
<ul>
<li>Unlike C++ and Java, no keyword “new”</li>
<li>use void* malloc(size_t size);</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">int</span> *A = (*<span class="keyword">int</span>) <span class="built_in">malloc</span>(<span class="number">100</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>)); <span class="comment">// assign A[100]</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// Traversal</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">100</span>; i++)&#123;</span><br><span class="line">    A[i] = random();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Alternate</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">100</span>; i++)&#123;</span><br><span class="line">    *(A+i) = random();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>Array of pointers<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* A[<span class="number">50</span>];</span><br><span class="line"><span class="keyword">for</span>(itn i = <span class="number">0</span> ; i&lt; <span class="number">50</span>; i++)&#123;</span><br><span class="line">    A[i] = <span class="literal">NULL</span>; <span class="comment">// initialize</span></span><br><span class="line">    A[i] = <span class="built_in">malloc</span>(length_of_string+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>5.Functions that take pointers<br>A very good way to pass adresses(reference) instead of copy variables<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>* ptrA, <span class="keyword">int</span>* ptrB)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = *ptrA;</span><br><span class="line">    *ptrA = *ptrB;</span><br><span class="line">    *ptrB = temp;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>It may as well be a bad idea to give direct access to actual data, so const int* ptr is better.</p>
<p>6.Strings and pointers<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* s = <span class="string">"guna\0"</span>; <span class="comment">// assign a string,</span></span><br></pre></td></tr></table></figure></p>
<p>problem arises, no extra room assigned for s, segement error when added    </p>
<ul>
<li>segfault happens when fscanf exceeds current limit;<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">fgets</span><span class="params">( <span class="keyword">char</span> *s, <span class="keyword">int</span> size, FILE *stream)</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>fgets uses at most size -1 </p>
<h1 id="Lecture-06-07-Debugging-problems-with-GDB-and-memory-leaks"><a href="#Lecture-06-07-Debugging-problems-with-GDB-and-memory-leaks" class="headerlink" title="Lecture 06-07 Debugging problems with GDB and memory leaks"></a>Lecture 06-07 Debugging problems with GDB and memory leaks</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gcc -ansi -Wall -pedantic main.c -o exec</span><br><span class="line">gcc -c -Wall -pedantic main.c </span><br><span class="line">gcc main.o -o exec</span><br></pre></td></tr></table></figure>
<p>1.Common mistakes using pointers:</p>
<ul>
<li>dereferenc of uninitialized pointers</li>
<li>insufficient allocated memorage</li>
<li>storage used after free</li>
<li>allocation freed repeatedly</li>
</ul>
<ol start="2">
<li><em>/<strong>/</strong></em> what’s the difference?</li>
</ol>
<h1 id="Lecture-08-Dynamic-Memory-Managment"><a href="#Lecture-08-Dynamic-Memory-Managment" class="headerlink" title="Lecture 08 Dynamic Memory Managment"></a>Lecture 08 Dynamic Memory Managment</h1><p>1.Inclued by &lt;stdlib.h&gt; (malloc free realloc calloc)</p>
<ul>
<li>void* malloc(size_t size) always remember to check <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span>* p;</span><br><span class="line"><span class="keyword">if</span>((p = <span class="built_in">malloc</span>(n)) == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;<span class="comment">// memory is allocated&#125;;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2.frees any memo allocated by previous malloc call<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">free</span>(A);</span><br></pre></td></tr></table></figure></p>
<p>3.calloc(n,sizeof(int)) equals to malloc(n*sizeof(int))</p>
<p>4.realloc(void *ptr, size_t size)</p>
<p>5.Memory leaks, memory that has been allocated by an application, but not released later.</p>
<ul>
<li>Memory leak Example:<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> A[n],i=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line"> A[i] = random();</span><br><span class="line"><span class="keyword">int</span>* B = <span class="built_in">malloc</span>(<span class="number">2</span>*n);</span><br><span class="line">B = A; <span class="comment">//A=B, illegal</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>6.Automatic VS Dynamic variables</p>
<ul>
<li>int x, x is assigned by stack and pop when out of stack</li>
<li>int *A = malloc(100); provided in heap</li>
</ul>
<h1 id="lecture-09"><a href="#lecture-09" class="headerlink" title="lecture 09"></a>lecture 09</h1><h1 id="Supplement-Lecture-Socket"><a href="#Supplement-Lecture-Socket" class="headerlink" title="Supplement Lecture Socket"></a>Supplement Lecture Socket</h1><p>1.IP address, 32 bit address divided into 5 types</p>
<ul>
<li>In Unix, each I/O is related with file descriptors. An integer associated with an open file and it can be network connection etc</li>
</ul>
<p>2.Map IP to names, DNS</p>
<ul>
<li>The process of finding out dotted IP address based on the given alphanumeric host name is known as hostname resolution.</li>
<li>Correspondence of hosts and IP are kept in HOST(/etc/hosts)</li>
</ul>
<p>3.Client-server model<br>4.Architecture:</p>
<ul>
<li>2 tier web browser</li>
<li>3 tier middleware</li>
</ul>
<p>5.concurrent / iterative server<br><img src="https://www.tutorialspoint.com/unix_sockets/images/socket_client_server.gif" alt="TCP Client-Server"></p>
<p>Check this <a href="https://www.tutorialspoint.com/unix_sockets/socket_summary.htm" target="_blank" rel="noopener">website</a> for full info</p>
<p>Well, even more detailed by <a href="http://www.cs.rpi.edu/~moorthy/Courses/os98/Pgms/socket.html" target="_blank" rel="noopener">RPI</a></p>
<ul>
<li>Server.C </li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netdb.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[] )</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> sockfd, newsockfd, portno, clilen;</span><br><span class="line">   <span class="keyword">char</span> buffer[<span class="number">256</span>];</span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serv_addr</span>, <span class="title">cli_addr</span>;</span></span><br><span class="line">   <span class="keyword">int</span>  n;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* First call to socket() function to establish a socket*/</span></span><br><span class="line">   sockfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>); <span class="comment">//AF_INET for ipv4</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (sockfd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR opening socket"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Initialize socket structure */</span></span><br><span class="line">   bzero((<span class="keyword">char</span> *) &amp;serv_addr, <span class="keyword">sizeof</span>(serv_addr));</span><br><span class="line">   portno = <span class="number">5001</span>;</span><br><span class="line">   </span><br><span class="line">   serv_addr.sin_family = AF_INET;</span><br><span class="line">   serv_addr.sin_addr.s_addr = INADDR_ANY;</span><br><span class="line">   serv_addr.sin_port = htons(portno);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Now bind the host address using bind() call.*/</span></span><br><span class="line">   <span class="keyword">if</span> (bind(sockfd, (struct sockaddr *) &amp;serv_addr, <span class="keyword">sizeof</span>(serv_addr)) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR on binding"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">      </span><br><span class="line">   <span class="comment">/* Now start listening for the clients, here process will</span></span><br><span class="line"><span class="comment">      * go in sleep mode and will wait for the incoming connection</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   </span><br><span class="line">   listen(sockfd,<span class="number">5</span>);</span><br><span class="line">   clilen = <span class="keyword">sizeof</span>(cli_addr);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Accept actual connection from the client */</span></span><br><span class="line">   newsockfd = accept(sockfd, (struct sockaddr *)&amp;cli_addr, &amp;clilen);</span><br><span class="line">	</span><br><span class="line">   <span class="keyword">if</span> (newsockfd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR on accept"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* If connection is established then start communicating */</span></span><br><span class="line">   bzero(buffer,<span class="number">256</span>);</span><br><span class="line">   n = read( newsockfd,buffer,<span class="number">255</span> ); <span class="comment">//file descriptor</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR reading from socket"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"Here is the message: %s\n"</span>,buffer);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Write a response to the client */</span></span><br><span class="line">   n = write(newsockfd,<span class="string">"I got your message"</span>,<span class="number">18</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR writing to socket"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">      </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>client.c ./client localhost port_number</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netdb.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> sockfd, portno, n;</span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serv_addr</span>;</span></span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">hostent</span> *<span class="title">server</span>;</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">char</span> buffer[<span class="number">256</span>];</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (argc &lt; <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>,<span class="string">"usage %s hostname port\n"</span>, argv[<span class="number">0</span>]);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line">	</span><br><span class="line">   portno = atoi(argv[<span class="number">2</span>]);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Create a socket point */</span></span><br><span class="line">   sockfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (sockfd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR opening socket"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">	</span><br><span class="line">   server = gethostbyname(argv[<span class="number">1</span>]);<span class="comment">// returns hostent</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (server == <span class="literal">NULL</span>) &#123;</span><br><span class="line">      <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>,<span class="string">"ERROR, no such host\n"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   bzero((<span class="keyword">char</span> *) &amp;serv_addr, <span class="keyword">sizeof</span>(serv_addr));</span><br><span class="line">   serv_addr.sin_family = AF_INET;</span><br><span class="line">   bcopy((<span class="keyword">char</span> *)server-&gt;h_addr, (<span class="keyword">char</span> *)&amp;serv_addr.sin_addr.s_addr, server-&gt;h_length);</span><br><span class="line">   serv_addr.sin_port = htons(portno);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Now connect to the server */</span></span><br><span class="line">   <span class="keyword">if</span> (connect(sockfd, (struct sockaddr*)&amp;serv_addr, <span class="keyword">sizeof</span>(serv_addr)) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR connecting"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Now ask for a message from the user, this message</span></span><br><span class="line"><span class="comment">      * will be read by server</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">	</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"Please enter the message: "</span>);</span><br><span class="line">   bzero(buffer,<span class="number">256</span>);</span><br><span class="line">   fgets(buffer,<span class="number">255</span>,<span class="built_in">stdin</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Send message to the server */</span></span><br><span class="line">   n = write(sockfd, buffer, <span class="built_in">strlen</span>(buffer));</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR writing to socket"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* Now read server response */</span></span><br><span class="line">   bzero(buffer,<span class="number">256</span>);</span><br><span class="line">   n = read(sockfd, buffer, <span class="number">255</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      perror(<span class="string">"ERROR reading from socket"</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">	</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,buffer);</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/csapp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/csapp/" itemprop="url">csapp</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T23:05:17+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Short-intro-to-C"><a href="#Short-intro-to-C" class="headerlink" title="Short intro to C:"></a>Short intro to C:</h3><h4 id="Warm-up"><a href="#Warm-up" class="headerlink" title="Warm up"></a>Warm up</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt; studio.h&gt;                // C way of importing</span></span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">unsigned</span> <span class="title">sizeof</span><span class="params">(a)</span>             <span class="comment">//returns the num of byte</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span>     <span class="comment">// argc for num of param, argv is the array(0:function name)</span></span></span><br><span class="line">int* ptr_a, ptr_b;                  // bzzt! Fails</span><br></pre></td></tr></table></figure>
<p>The smallest unit in computer world is bit, two status (0 or 1)</p>
<p>8 bits = 1 byte </p>
<p>Hexadecimals begin with 0x</p>
<p>delimiter : \n \t</p>
<p><strong>Directives :</strong><br>|Symbol |Meaning      |   |<br>|——-|————-|—|<br>|d      |digital      |   |<br>|lu     |long unsiged |   |<br>|p      |pointer      |   |<br>|%c| char |single character.|<br>|%d| (%i) |int signed integer.|<br>|%e |(%E) |float or double exponential format.|<br>|%f |float| or double signed decimal.|<br>|%g |(%G) |float or double use %f or %e as required.|<br>|%o |int |unsigned octal value.|<br>|%p| pointer |address stored in pointer.|</p>
<p>8 C numeric type</p>
<table>
<thead>
<tr>
<th>C declaration</th>
<th>32-bit</th>
<th>64-bit</th>
<th>range</th>
</tr>
</thead>
<tbody>
<tr>
<td>char</td>
<td>1</td>
<td>1</td>
<td>2^8</td>
</tr>
<tr>
<td>short int</td>
<td>2</td>
<td>2</td>
<td>2^16</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
<td>4</td>
<td>2^32</td>
</tr>
<tr>
<td>long int</td>
<td>4</td>
<td>8</td>
<td>2^64</td>
</tr>
<tr>
<td>long long int</td>
<td>8</td>
<td>8</td>
<td>2^64</td>
</tr>
<tr>
<td>char*(regardless of type)</td>
<td>4</td>
<td>8</td>
<td>2^64</td>
</tr>
<tr>
<td>float</td>
<td>4</td>
<td>8</td>
<td>2^64</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
<td>8</td>
<td>2^64</td>
</tr>
</tbody>
</table>
<p>Big endian vs Small endian argurs the order in which bit arranged</p>
<p>Typedef helps to define certain type for brevity</p>
<h4 id="Noisy-pointer"><a href="#Noisy-pointer" class="headerlink" title="Noisy pointer"></a>Noisy pointer</h4><p><a href="https://boredzo.org/pointers/" target="_blank" rel="noopener">An article i highly recommend to read about pointer</a></p>
<p>Pointer points to the address of certain variable.</p>
<p><strong>Addition in pointer</strong> : </p>
<p><strong>Dereference </strong> : pointer with * on, assigns value</p>
<p><strong>Pointing </strong> : pointer without *, points and only accepts an adress</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *array_ptr = <span class="built_in">array</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" first element: %i\n"</span>, *(array_ptr++));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"second element: %i\n"</span>, *(array_ptr++));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" third element: %i\n"</span>, *array_ptr);</span><br></pre></td></tr></table></figure>
<p>Hex to bin : XXXX - HH</p>
<h4 id="String-representation"><a href="#String-representation" class="headerlink" title="String representation"></a>String representation</h4><p>Each string in C is ended with 00s, and the most famous ones are ASCII character code.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show_bytes(<span class="string">"12345"</span>, <span class="number">6</span>);         <span class="comment">//output: 31 32 33 34 35 00(terminal)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *s = <span class="string">"abcdef"</span>;</span><br><span class="line">show_bytes((byte_pointer) s, <span class="built_in">strlen</span>(s));  <span class="comment">// output :61 62 63 64 65 66</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man ASCII // for ascii character code</span><br></pre></td></tr></table></figure>
<caption text-align="center"> Operations of Boolean algebra</caption>

<table>
<thead>
<tr>
<th>~</th>
<th>^</th>
<th>&amp;</th>
<th>slash</th>
</tr>
</thead>
<tbody>
<tr>
<td>NOT</td>
<td>XOR</td>
<td>AND</td>
<td>OR</td>
</tr>
</tbody>
</table>
<p>Fancy stuff here: swap two values without useing the third extra variable</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123; <span class="comment">// a = 12 10010 b = 32 = 110010</span></span><br><span class="line">    a = a ^ b;                 <span class="comment">// a^b = 10000</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The output is %d \n"</span>,a);</span><br><span class="line">    b = a ^ b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The output is %d \n"</span>,b);</span><br><span class="line">    a = a ^ b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The output is %d \n"</span>,a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Follow up:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse_array</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> first, last;</span><br><span class="line">    <span class="keyword">for</span> (first = <span class="number">0</span>, last = cnt<span class="number">-1</span>;</span><br><span class="line">    first &lt;= last;</span><br><span class="line">    first++,last--)</span><br><span class="line">    inplace_swap(&amp;a[first], &amp;a[last]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong> Masking operation </strong>: </p>
<h4 id="Shift-operation-in-C"><a href="#Shift-operation-in-C" class="headerlink" title="Shift operation in C:"></a>Shift operation in C:</h4><p>Logic : unsigned<br>Algorithmetic : signed one</p>
<p>Casting is actually based on bit level operation</p>
<p>explicit casting is possible as well:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">int</span> tx, ty;</span><br><span class="line"><span class="number">2</span> <span class="keyword">unsigned</span> ux, uy;</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span> tx = ux; <span class="comment">/* Cast to signed */</span></span><br><span class="line"><span class="number">5</span> uy = ty; <span class="comment">/* Cast to unsigned */</span></span><br></pre></td></tr></table></figure></p>
<p>Operand tend perform implicit casting to unsigned.</p>
<p>Extension</p>
<p>Truncating</p>
<p>Division in bit-level : first increment then right shift</p>
<p>A quick way to negate a number : 1.complement 2.increment</p>
<p>Common mistake with unsigned: sizeof() actually returns unsigned words</p>
<p>C retro time :</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span></span></span><br><span class="line"><span class="keyword">typedef</span></span><br></pre></td></tr></table></figure>
<p>word size: 32 bit / 64 bit</p>
<p>Floating point:</p>
<p>Discard the fractional binary representation.</p>
<p>IEEE 744 standard :</p>
<p>(-1)^s <em> 2^e </em> M<br>E = exp - bias</p>
<p>1.Denoramlized<br>2.Normalized</p>
<p>Default rounding : find the closest one</p>
<h1 id="Bit-Bytes-and-Integers"><a href="#Bit-Bytes-and-Integers" class="headerlink" title="Bit ,Bytes and Integers"></a>Bit ,Bytes and Integers</h1><ol>
<li>1 Byte = 8 bits = 2 hex digits</li>
<li>Common data type presentation</li>
<li>Boolean Algebra: And Or XOR Not</li>
<li>Contrast Logical ops (with Termination) (p&amp;&amp;*p avoids null pointer access)</li>
<li>shift ops,(logical &amp; algo)(Undefined for illegal shift)</li>
<li>#include&lt;limits.h&gt; : ULONG_MAX,LONG_MAX</li>
<li>Default:signed, Append U for Unsigned</li>
<li>If there be mix of U and S, S is casted implicitly to U</li>
<li>Little endian : refers to byte ordering </li>
</ol>
<h1 id="Floating-points"><a href="#Floating-points" class="headerlink" title="Floating points"></a>Floating points</h1><h2 id="1-Fractional-Binary-numbers"><a href="#1-Fractional-Binary-numbers" class="headerlink" title="1.Fractional Binary numbers:"></a>1.Fractional Binary numbers:</h2><p>limit: Only lists number that are very large or extremely samll</p>
<h2 id="2-IEEE-Floating-Point"><a href="#2-IEEE-Floating-Point" class="headerlink" title="2. IEEE Floating Point"></a>2. IEEE Floating Point</h2><p>1.Chem way of rounding, when exact half round to even, no bias theoretically<br>2.Bias = 2^(k - 1) - 1 , k is the exp bit<br>3.Single precison, sign : 1, E : 8, frac : 23<br>4.Noramalized Number<br>5.Denormalized<br>6.Special cases:  exp = 111…1, frac = 000..0 represents infinity(overflow<br>NaN exp = 111…11, frac != 000.000<br>7.FP multiplication, (-1)^(s1)<em> M1</em> 2^(E1)</p>
<pre><code>shift M to right, if more than 2, till overflow
</code></pre><p>8.Casting</p>
<pre><code>Float/double -&gt; int: truncate frac
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/mysql/" itemprop="url">Mysql</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T21:11:00+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Preface : some say installing Mysql trouble, luckily  it worked smoothly for me.</p>
<h1 id="Connect-Mysql-with-Python"><a href="#Connect-Mysql-with-Python" class="headerlink" title="Connect Mysql with Python"></a>Connect Mysql with Python</h1><p>1.Install Mysql Connector with : <code>pip install mysql-connector-python</code> // Question : What’s the difference between binary and source distribution</p>
<h1 id="Start-and-Shutdown-Mysql"><a href="#Start-and-Shutdown-Mysql" class="headerlink" title="Start and Shutdown Mysql"></a>Start and Shutdown Mysql</h1><p><strong>End query with ; !!</strong><br>1.To start, just enter <code>mysqld</code> </p>
<p>2.General logging method for mysql : <code>mysql -uroot -p</code></p>
<p>3.To shutdown, <code>mysqladmin -u root shutdown</code></p>
<h1 id="Querying-Mysql"><a href="#Querying-Mysql" class="headerlink" title="Querying Mysql"></a>Querying Mysql</h1><ul>
<li><code>select NAME|* from TABLE_NAME where CONDITIONAL;</code><ul>
<li>Notice keywords may be entered in any lettercase</li>
</ul>
</li>
</ul>
<h1 id="Creating-and-Using-a-Table"><a href="#Creating-and-Using-a-Table" class="headerlink" title="Creating and Using a Table"></a>Creating and Using a Table</h1><ul>
<li><code>show databases;</code>  to show all available DBs</li>
<li><code>use db</code> to switch to certain dbs;</li>
<li>Assume admin need to edit access for certain user <code>grant all on db.* to &#39;username@host&#39;</code> </li>
<li><p><strong>Create: </strong> <code>create table TABLE_NAME (var data_type)</code></p>
<ul>
<li>VARCHAR : defines length, 4 byte room</li>
<li>CHAR</li>
<li>DATE </li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE TABLE pet (name VARCHAR(20), owner VARCHAR(20),</span><br><span class="line">    -&gt; species VARCHAR(20), sex CHAR(1), birth DATE, death DATE);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>describe</strong> show all detail of a table</p>
</li>
</ul>
<h1 id="Loading-Data-into-a-table"><a href="#Loading-Data-into-a-table" class="headerlink" title="Loading Data into a table"></a>Loading Data into a table</h1><ul>
<li>When you want to insert values into a table through txt file:<ul>
<li>Just enter data line by line and set null to <code>\N</code></li>
<li><code>load data local infile &#39;path/input.txt&#39; into table NAME</code></li>
</ul>
</li>
<li>Or in the normal way : <ul>
<li><code>insert into TABLE_NAME values(data data_type);</code></li>
</ul>
</li>
</ul>
<h1 id="Retrieving-Data-from-Tables"><a href="#Retrieving-Data-from-Tables" class="headerlink" title="Retrieving Data from Tables"></a>Retrieving Data from Tables</h1><ul>
<li><p>General retrieving pattern :</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    SELECT what_to_select</span><br><span class="line">FROM which_table</span><br><span class="line">WHERE conditions_to_satisfy;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Update : </strong> <code>update TABLE set tar_var = data where CONDITIONAL</code></p>
</li>
<li><strong>Select particular column</strong> :<ul>
<li><code>select column_name from TABLE</code></li>
</ul>
</li>
<li>To sort, use <code>Order</code> clause<ul>
<li>param: <code>DESC</code> to descending</li>
</ul>
</li>
</ul>
<h1 id="Pattern-Matching-in-Mysql"><a href="#Pattern-Matching-in-Mysql" class="headerlink" title="Pattern Matching in Mysql"></a>Pattern Matching in Mysql</h1><h1 id="Deleting-Databases-Tables"><a href="#Deleting-Databases-Tables" class="headerlink" title="Deleting Databases/Tables"></a>Deleting Databases/Tables</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">drop database DATABASE</span><br><span class="line">//For tables</span><br><span class="line">drop table TABLE</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/Hexo_startup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/Hexo_startup/" itemprop="url">Hexo Startup</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T20:06:57+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Prerequiste : Make sure you already have <code>Git</code> and <code>Node</code></p>
<p>Common steps for setting up Hexo in your computer:</p>
<ol>
<li><p><code>npm install hexo-cli -g</code><br>to install hexo from npm. Here parameter g means global installation and back-tick is this symbol `</p>
</li>
<li><p>Fire up your first Hexo directory with <code>Hexo init</code>, default workplace being CWD.</p>
</li>
<li>Then edit your <code>source/_post</code> and <code>_config.yml</code></li>
<li><strong>Generate: </strong> you can either <code>hexo generate</code> to publish your files into <code>public</code> directory or <code>hexo server</code> to start local host. (–debug for debugging mode)</li>
<li><strong>Deploy: </strong> <code>hexo deploy</code>, make sure <code>_config.yml</code> configured <code>deploy repository</code></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/Markdown Retro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/Markdown Retro/" itemprop="url">Markdown Retro</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T19:24:02+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Markdown-Retro"><a href="#Markdown-Retro" class="headerlink" title="Markdown Retro"></a>Markdown Retro</h1><h2 id="Headers"><a href="#Headers" class="headerlink" title="Headers"></a>Headers</h2><p>Headers are showed as 6 types, accroding to number of hash(#)</p>
<h2 id="Emphasis"><a href="#Emphasis" class="headerlink" title="Emphasis"></a>Emphasis</h2><p>First type : <em>wrap with</em> *<br>Sencond type : <em>wrap with</em> _ underline<br>Third type : <strong>wrap with</strong> </p>
<h2 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h2><p>1.Ordered lists : *<br>2.Unordered lists : numerate</p>
<h2 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h2><p>In the form of :</p>
<blockquote>
<p><img src="Address" alt="Caption"></p>
</blockquote>
<h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><p>Similar to that of images, except don’t require &gt;:</p>
<blockquote>
<p><a href="Adress">Caption</a></p>
</blockquote>
<h2 id="Inlinde-Code"><a href="#Inlinde-Code" class="headerlink" title="Inlinde Code"></a>Inlinde Code</h2><p><code>&lt;&gt;</code> small bracket wrapped with <code></code></p>
<h2 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h2><p>Column seperated with |</p>
<h2 id="Syntax-Highlight"><a href="#Syntax-Highlight" class="headerlink" title="Syntax Highlight"></a>Syntax Highlight</h2><p>Include codes with <code>`</code> [Name of language]</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tjianke">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My personal website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/29/hello-world/" itemprop="url">Machine Learning</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T19:24:02+08:00">
                2018-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="机器学习"><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h1><p>机器学习正如其字面意思，就是计算机（严格说是计算机程序）能够通过自主学习而变得越来越聪明。简单的机器学习过程，就是通过喂给机器某一类现存大量初始条件和已知正确结果的数据（可以称为教材），外加一个数学模型 （带有一些参数的公式，也称算法），让程序通过反复运算，不断调整这些参数，直至得到一组“最佳”的参数。一旦有了这些“最佳”参数，机器可以近乎完美地算出对应的正确结果。如此这般，机器就“学会”处理这一类数据的本领，可以用来计算出比较可信的结果，例如诊断疾病，预测天气，识别图像，下棋，自动驾驶等等。</p>
<h2 id="机器学习历史"><a href="#机器学习历史" class="headerlink" title="机器学习历史"></a>机器学习历史</h2><p>机器学习并不是一个新的理论。上世纪 50 年代就有人提出了一些机器学习算法。但因为这些传统的早期算法不够聪明，能解决的问题有限，处理不了复杂问题，这个分支一直没有大的进展。这些年机器学习的成功更多是归功于深度学习方面的进展。深度学习的理论也已经成型很久，但由于中间隐藏层的误差无法准确计算，所以很难实际应用。直到 1986 年有人提出了反向传播算法（Back Propagation， BP），深度学习才有长足进步和实际应用的可能。</p>
<p><img src="http://upload.xingkongmt.com/images/5085/20170807/3db251ec-afb8-42de-9e0c-52e562dc94ea.jpeg" alt="Relationship between AI, ML and DL"></p>
<p align="center">Relationship between AI, ML and DL</p>

<p>人工智能(AI),机器学习(ML), 和深度学习(DL)并不是一回事。深度学习(DL)是机器学习(ML)的主要算法，而机器学习(ML)是人工智能(AI)的核心功能(图三)。深度学习的算法尽管已经比较成熟，但在实际应用中还会遇到各种挑战，比如要得到最佳参数需要喂给机器大量数据让机器自己学习。数据越多，机器就越聪明。而处理大量数据就会遇到大数据的问题，解决的办法主要是靠分布式存储和计算。 </p>
<p>机器学习可以分为以下三大种类：<br><img src="https://sg.fiverrcdn.com/photos/75648476/original/f303394129c0b6352c43235b6fae39b522b1dfb8.png?1485029457" alt="Types of Machine Learning"></p>
<h2 id="Supervised-Learning-监督学习-："><a href="#Supervised-Learning-监督学习-：" class="headerlink" title="Supervised Learning (监督学习)："></a>Supervised Learning (监督学习)：</h2><blockquote>
<p>从给定输入和输出的数据中建立一个函数，并依此函数推测新的输出。</p>
</blockquote>
<p>简单来说，计量经济学中的模型都可以归类为监督学习。根据各种输入（X）预测与输出（Y）之间是否存在关联。</p>
<p><img src="http://7xrrje.com1.z0.glb.clouddn.com/img_1.jpg?imageMogr/v2/thumbnail/!45p" alt="房价预测模型"></p>
<p align="center">回归：根据房屋面积预测房价</p>

<p><img src="http://7xrrje.com1.z0.glb.clouddn.com/img_1022aa.jpg?imageMogr/v2/thumbnail/!45p" alt="肿瘤预测为题"></p>
<p align="center">分类：根据肿瘤大小预测恶心肿瘤</p>

<p>监督学习和无监督学习的区别就在于监督学习的数据不仅仅有特征组成, 即每一个数据样本都包含一个准确的输出值（房价、肿瘤是否恶性）。</p>
<h2 id="Unsupervised-Learning-非监督学习"><a href="#Unsupervised-Learning-非监督学习" class="headerlink" title="Unsupervised Learning (非监督学习)"></a>Unsupervised Learning (非监督学习)</h2><blockquote>
<p>在无监督学习中, 我们的数据并没有给出特定的标签(如上例中的房价或肿瘤性质）。 我们目标也从预测输出变为寻找数据的结构特性。</p>
</blockquote>
<p>如下图所示, 我们可以直观的感受到监督学习和无监督学习在数据集上的区别。<br><img src="http://7xrrje.com1.z0.glb.clouddn.com/screenshot_582.png?imageMogr/v2/thumbnail/!55p" alt="Difference"></p>
<p align="center">监督式学习和非监督式学习的差异</p>

<p><img src="https://nowenlightenme.files.wordpress.com/2018/03/slide_2.jpg" alt="Unsupervised Learning"><br>当然图片上的分类算法仅仅包括两个维度的数据（x,y）。业界运用的非监督学习所涉及到的数据维度往往较大，但是聚类的方法仍然类似。<br>常用算法推荐：？</p>
<h2 id="Reinforcement-Learning-（强化学习）"><a href="#Reinforcement-Learning-（强化学习）" class="headerlink" title="Reinforcement Learning （强化学习）"></a>Reinforcement Learning （强化学习）</h2><p>在强化学习（RL）中没有原始已知数据可以学习。强化学习面对的是一个不断变化的状态空间，要解决的是一个决策链问题。其目的是找到在当前环境（状态空间）下最佳决策是什么。这里的挑战是，当下的决策好坏当下无法立刻验证和评估，要根据多次决策以后才能知道。机器需要在变化的环境中通过大量的多次的试错学习，再根据某种规则找到产生最佳结果的最佳路径，从而做出最佳决策。常见的应用有<strong>下棋</strong>、<strong>自动驾驶</strong>等。</p>
<p>让我们看看人类棋手的决策过程：</p>
<blockquote>
<p>人类棋手根据当下棋盘上情况找到他（她）认为是最佳的下一步棋的落点。高手一般能看到后面的几步棋，从而确定走哪一步对自己最有利。这个过程可以用计算机来模拟，我们把从现在开始所有可能的走法（也称之为路径）逐个试一遍，从而选出下一步棋的最佳方案。这种简单粗暴的方法穷尽了所有的可能路径，必定旗开得胜。</p>
</blockquote>
<p>AlphaGo利用大量高手(3000万)对弈棋谱，通过13层的深度卷积神经网络（Convolutional Neural Network， CNN）计算出这些高手们在某个棋盘状态时下一手在某个位置落子的概率（落子概率）。输入值是棋子的方格位置状态，输出值是在某一位置下棋的概率，所以这里应用了监督学习的算法。</p>
<p>这样，阿尔法狗通过强化学习知道了每一个试过的走法的赢棋概率。但是还有大量的没有试过的走法，在这些走法里面有可能存在很多赢棋概率的走法。为了解决这个问题，阿尔法狗又使用了新的学习过程：本来每次落子蒙特卡罗方法都会算出最佳走法，但在左右互搏时加入一定的随机走法以不断扩展探索空间寻找更佳走法的棋谱。然后根据新的棋谱产生更好的赢棋概率分布。这个过程会不断地重复。通过这样的自我训练学习，阿尔法狗的能力不断提高。</p>
<h4 id="阿法狗的局限"><a href="#阿法狗的局限" class="headerlink" title="阿法狗的局限"></a>阿法狗的局限</h4><p>阿尔法狗（AlphaGo）战胜人类是人工智能的一个巨大突破，也跌破了很多人的眼镜。特别是阿尔法狗能自我学习，让很多人以为它啥都能学会，一定会超过人类。这显然是对阿尔法狗的误解。到目前为止，机器学习多是找到喂给机器的数据里的特征或者模式，而且里面用到的模型也只适合那些数据，对其他种类的数据就无能为力。既是强化学习，也是根据已知规则来学习评估，这些规则和评估方式对另外一个环境就完全不适用了。换一句话说，当前的机器学习都是特定能力的学习。能够像人类一样，可以学习不同的东西、具有广泛学习能力的机器到现在还没有出现。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Tjianke</p>
              <p class="site-description motion-element" itemprop="description">It's my personal blog.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tjianke</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
